!function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="./",e(e.s=2)}([function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.KEY_CODE=i.BLOCKS_TOP_Y=i.BLOCKS_MARGIN=i.BLOCKS_COLUMN=i.BLOCKS_ROW=i.BLOCK_HEIGHT=i.BLOCK_WIDTH=i.PLATFORM_VELOCITY=i.PLATFORM_HEIGHT=i.PLATFORM_WIDTH=i.BALL_VELOCITY=i.BALL_HEIGHT=i.BALL_WIDTH=i.HEIGHT_GAME=i.WIDTH_GAME=void 0,i.WIDTH_GAME=1280,i.HEIGHT_GAME=720,i.BALL_WIDTH=40,i.BALL_HEIGHT=40,i.BALL_VELOCITY=8,i.PLATFORM_WIDTH=251,i.PLATFORM_HEIGHT=41,i.PLATFORM_VELOCITY=14,i.BLOCK_WIDTH=111,i.BLOCK_HEIGHT=39,i.BLOCKS_ROW=5,i.BLOCKS_COLUMN=7,i.BLOCKS_MARGIN=14,i.BLOCKS_TOP_Y=100,i.KEY_CODE={LEFT:37,RIGHT:39,SPACE:32}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){var i=t.ctx,e=t.image;this.ctx=i,this.image=e};i.default=o},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),e(3);var o=e(4),n=e(0),r=e(5),s=e(7),l=e(8),a=e(9),h={ctx:null,canvas:null,images:{background:null,ball:null,block:null,platform:null,heart:null},width:n.WIDTH_GAME,height:n.HEIGHT_GAME,ball:void 0,blocks:void 0,platform:void 0,heart:new a.default,init:function(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),o.default.bind(this)(),this.setEvents()},preload:function(t){var i=this,e=0,o=Object.keys(this.images);o.forEach((function(n){var r,s=new Image;s.src="src/static/"+n+".png",i.images[n]=s,null===(r=i.images[n])||void 0===r||r.addEventListener("load",(function(){(e+=1)>=o.length&&t()}))})),this.ctx&&(this.images.block&&(this.blocks=new l.default({ctx:this.ctx,image:this.images.block})),this.images.ball&&(this.ball=new r.default({ctx:this.ctx,image:this.images.ball})),this.images.platform&&this.ball&&(this.platform=new s.default({ctx:this.ctx,image:this.images.platform,ball:this.ball})))},setEvents:function(){var t=this;window.addEventListener("keydown",(function(i){var e,o,r,s;switch(i.keyCode){case n.KEY_CODE.LEFT:null===(e=t.platform)||void 0===e||e.minusPositionDX();break;case n.KEY_CODE.RIGHT:null===(o=t.platform)||void 0===o||o.plusPositionDX();break;case n.KEY_CODE.SPACE:null===(r=t.platform)||void 0===r||r.fire(),null===(s=t.ball)||void 0===s||s.start()}})),window.addEventListener("keyup",(function(i){var e;i.key&&(i.keyCode!==n.KEY_CODE.LEFT&&i.keyCode!==n.KEY_CODE.RIGHT||null===(e=t.platform)||void 0===e||e.stopPositionDX())}))},updateController:function(){var t,i,e,o;null===(t=this.platform)||void 0===t||t.move(),null===(i=this.ball)||void 0===i||i.move(),this.collideBlock(),this.collidePlatform(),null===(e=this.ball)||void 0===e||e.collideWindowBounds(),null===(o=this.platform)||void 0===o||o.collideWindowPlatform()},collideBlock:function(){var t,i=this;null===(t=this.blocks)||void 0===t||t.items.forEach((function(t,e){var o,n;(null===(o=i.ball)||void 0===o?void 0:o.collide(t))&&(t.active&&(null===(n=i.ball)||void 0===n||n.bumbBlock()),i.blocks&&(i.blocks.deactivationBlock=e))}))},collidePlatform:function(){var t,i;this.platform&&(null===(t=this.ball)||void 0===t?void 0:t.collide(this.platform))&&(null===(i=this.ball)||void 0===i||i.bumbPlatform(this.platform))},run:function(){var t=this;window.requestAnimationFrame((function(){t.updateController(),t.render(),t.run()}))},render:function(){var t,i,e,o,n;null===(t=this.ctx)||void 0===t||t.clearRect(0,0,this.width,this.height),this.images.background&&(null===(i=this.ctx)||void 0===i||i.drawImage(this.images.background,0,0)),null===(e=this.ball)||void 0===e||e.render(),null===(o=this.platform)||void 0===o||o.render(),null===(n=this.blocks)||void 0===n||n.render()},start:function(){var t=this;this.init(),this.preload((function(){t.run()}))}};window.addEventListener("load",(function(){h.start()}))},function(t,i,e){},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){var t=window.innerWidth*window.devicePixelRatio,i=window.innerHeight*window.devicePixelRatio,e=this.height,o=this.width;this.height=Math.min(Math.floor(o*i/t),e),this.canvas&&(this.canvas.width=this.width,this.canvas.height=this.height)}},function(t,i,e){"use strict";var o,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(i,"__esModule",{value:!0});var r=e(0),s=e(6),l=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.x=r.WIDTH_GAME/2-r.BALL_WIDTH/2,i.y=r.HEIGHT_GAME-r.BALL_HEIGHT-r.PLATFORM_HEIGHT,i.dx=0,i.dy=0,i.velocity=r.BALL_VELOCITY,i.width=r.BALL_WIDTH,i.height=r.BALL_HEIGHT,i}return n(i,t),Object.defineProperty(i.prototype,"updatePositionX",{set:function(t){t&&(this.x+=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"setPositionX",{set:function(t){this.x=t},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.dy=-this.velocity,this.dx=s.default(-this.velocity,this.velocity)},i.prototype.move=function(){this.dy&&(this.y+=this.dy),this.dx&&(this.x+=this.dx)},i.prototype.collide=function(t){var i=this.x+this.dx,e=this.y+this.dy;return i+this.width>t.x&&i<t.x+t.width&&e+this.height>t.y&&e<t.y+t.height},i.prototype.bumbBlock=function(){this.dy*=-1},i.prototype.bumbPlatform=function(t){if(this.dy>0){this.dy=-this.velocity;var i=this.x+this.width/2;this.dx=this.velocity*t.getPlatformTouch(i)}},i.prototype.collideWindowBounds=function(){var t=this.x+this.dx,i=this.y+this.dy;t<0?(this.x=0,this.dx=+this.velocity):i<0?(this.y=0,this.dy=this.velocity):t+this.width>r.WIDTH_GAME?(this.x=r.WIDTH_GAME-this.width,this.dx=-this.dx):i+this.height>r.HEIGHT_GAME&&console.log("Game over!")},i.prototype.render=function(){var t;this.image&&(null===(t=this.ctx)||void 0===t||t.drawImage(this.image,0,0,this.width,this.height,this.x,this.y,this.width,this.height))},i}(e(1).default);i.default=l},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function(t,i){return Math.floor(Math.random()*(i-t+1)+t)}},function(t,i,e){"use strict";var o,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(i,"__esModule",{value:!0});var r=e(0),s=function(t){function i(i){var e=t.call(this,i)||this;return e.x=r.WIDTH_GAME/2-r.PLATFORM_WIDTH/2,e.y=r.HEIGHT_GAME-r.PLATFORM_HEIGHT,e.dx=0,e.velocity=r.PLATFORM_VELOCITY,e.width=r.PLATFORM_WIDTH,e.height=r.PLATFORM_HEIGHT,e.ball=null,e.ball=i.ball,e}return n(i,t),i.prototype.fire=function(){this.ball&&(this.ball.start(),this.ball=null)},i.prototype.removeBall=function(){this.ball=null},i.prototype.plusPositionDX=function(){this.dx=+this.velocity},i.prototype.minusPositionDX=function(){this.dx=-this.velocity},i.prototype.move=function(){this.dx&&(this.x+=this.dx,this.ball&&(this.ball.updatePositionX=this.dx))},i.prototype.stopPositionDX=function(){this.dx=0},i.prototype.getPlatformTouch=function(t){var i=this.x+this.width-t;return 2*(this.width-i)/this.width-1},i.prototype.collideWindowPlatform=function(){this.x+this.dx<0&&(this.dx=0,this.x=0,this.ball&&(this.ball.setPositionX=this.width/2-this.ball.width/2)),this.x+this.width+this.dx>=r.WIDTH_GAME&&(this.dx=0,this.x=r.WIDTH_GAME-this.width,this.ball&&(this.ball.setPositionX=this.width/2-this.ball.width/2+this.x))},i.prototype.render=function(){var t;this.image&&(null===(t=this.ctx)||void 0===t||t.drawImage(this.image,this.x,this.y))},i}(e(1).default);i.default=s},function(t,i,e){"use strict";var o,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var i,e=1,o=arguments.length;e<o;e++)for(var n in i=arguments[e])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var s=e(0),l=function(t){function i(i){var e=t.call(this,i)||this;e.x=0,e.y=0,e.row=s.BLOCKS_ROW,e.column=s.BLOCKS_COLUMN,e.items=[],e.width=s.BLOCK_WIDTH,e.height=s.BLOCK_HEIGHT;for(var o=e.width+s.BLOCKS_MARGIN,n=e.height+s.BLOCKS_MARGIN,r=0;r<e.row;r+=1)for(var l=0;l<e.column;l+=1)e.items.push({x:o*l+(s.WIDTH_GAME/2-e.column/2*o),y:n*r+s.BLOCKS_TOP_Y,width:e.width,height:e.height,active:!0});return e}return n(i,t),Object.defineProperty(i.prototype,"deactivationBlock",{set:function(t){this.items=this.items.map((function(i,e){return r(r({},i),{active:!!i.active&&e!==t})}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateBlocks",{set:function(t){this.items=t},enumerable:!1,configurable:!0}),i.prototype.render=function(){var t=this;this.items.forEach((function(i){var e;t.image&&i.active&&(null===(e=t.ctx)||void 0===e||e.drawImage(t.image,i.x,i.y))}))},i}(e(1).default);i.default=l},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){};i.default=o}]);