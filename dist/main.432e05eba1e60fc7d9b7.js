!function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="./",e(e.s=2)}([function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.HEARTS_PADDING=i.HEARTS_MARGIN=i.HEARTS_WIDTH=i.HEARTS_HEIGHT=i.KEY_CODE=i.BLOCKS_TOP_Y=i.BLOCKS_MARGIN=i.BLOCKS_COLUMN=i.BLOCKS_ROW=i.BLOCK_HEIGHT=i.BLOCK_WIDTH=i.PLATFORM_VELOCITY=i.PLATFORM_MARGIN_BOTTOM=i.PLATFORM_HEIGHT=i.PLATFORM_WIDTH=i.BALL_VELOCITY=i.BALL_HEIGHT=i.BALL_WIDTH=i.HEIGHT_GAME=i.WIDTH_GAME=void 0,i.WIDTH_GAME=1920,i.HEIGHT_GAME=1080,i.BALL_WIDTH=40,i.BALL_HEIGHT=40,i.BALL_VELOCITY=12,i.PLATFORM_WIDTH=251,i.PLATFORM_HEIGHT=41,i.PLATFORM_MARGIN_BOTTOM=65,i.PLATFORM_VELOCITY=16,i.BLOCK_WIDTH=111,i.BLOCK_HEIGHT=39,i.BLOCKS_ROW=5,i.BLOCKS_COLUMN=7,i.BLOCKS_MARGIN=15,i.BLOCKS_TOP_Y=100,i.KEY_CODE={LEFT:37,RIGHT:39,SPACE:32},i.HEARTS_HEIGHT=37,i.HEARTS_WIDTH=40,i.HEARTS_MARGIN=20,i.HEARTS_PADDING=10},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){var i=t.ctx,e=t.image;this.ctx=i,this.image=e};i.default=o},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),e(3);var o=e(4),n=e(0);window.addEventListener("load",(function(){new o.default({width:n.WIDTH_GAME,height:n.HEIGHT_GAME,lives:5}).start()}))},function(t,i,e){},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e(0),n=e(5),s=e(7),r=e(8),h=e(9),l=function(){function t(t){var i=t.height,e=t.width,o=t.lives;this.ctx=null,this.canvas=null,this.images={background:null,ball:null,block:null,platform:null,heart:null},this.width=0,this.height=0,this.lives=0,this.height=i,this.width=e,this.lives=o}return t.prototype.initCanvasSize=function(){var t=window.innerWidth*window.devicePixelRatio,i=window.innerHeight*window.devicePixelRatio,e=this.height,o=this.width;this.height=Math.min(Math.floor(o*i/t),e),this.canvas&&(this.canvas.width=this.width,this.canvas.height=this.height)},t.prototype.init=function(){this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.initCanvasSize(),this.setEvents()},t.prototype.preload=function(t){var i=this,e=0,o=Object.keys(this.images);o.forEach((function(n){var s,r=new Image;r.src="src/static/"+n+".png",i.images[n]=r,null===(s=i.images[n])||void 0===s||s.addEventListener("load",(function(){(e+=1)>=o.length&&t()}))})),this.ctx&&(this.images.block&&(this.blocks=new r.default({ctx:this.ctx,image:this.images.block})),this.images.ball&&(this.ball=new n.default({ctx:this.ctx,image:this.images.ball})),this.images.platform&&this.ball&&(this.platform=new s.default({ctx:this.ctx,image:this.images.platform,ball:this.ball})),this.images.heart&&(this.heart=new h.default({ctx:this.ctx,image:this.images.heart,lives:this.lives,heightWindow:this.height})))},t.prototype.setEvents=function(){var t=this;window.addEventListener("keydown",(function(i){var e,n,s,r;switch(i.keyCode){case o.KEY_CODE.LEFT:null===(e=t.platform)||void 0===e||e.minusPositionDX();break;case o.KEY_CODE.RIGHT:null===(n=t.platform)||void 0===n||n.plusPositionDX();break;case o.KEY_CODE.SPACE:null===(s=t.platform)||void 0===s||s.fire(),null===(r=t.ball)||void 0===r||r.start()}})),window.addEventListener("keyup",(function(i){var e;i.key&&(i.keyCode!==o.KEY_CODE.LEFT&&i.keyCode!==o.KEY_CODE.RIGHT||null===(e=t.platform)||void 0===e||e.stopPositionDX())}))},t.prototype.updateController=function(){var t,i,e,o,n=this;null===(t=this.platform)||void 0===t||t.move(),null===(i=this.ball)||void 0===i||i.move(),this.collideBlock(),this.collidePlatform(),null===(e=this.ball)||void 0===e||e.collideWindowBounds((function(){n.minusLife()})),null===(o=this.platform)||void 0===o||o.collideWindowPlatform()},t.prototype.resetPositionControls=function(){var t,i;this.ball&&(null===(t=this.platform)||void 0===t||t.reset(this.ball)),null===(i=this.ball)||void 0===i||i.reset()},t.prototype.resetGame=function(){var t,i;this.resetPositionControls(),null===(t=this.blocks)||void 0===t||t.reset(),null===(i=this.heart)||void 0===i||i.reset({heightWindow:this.height,lives:this.lives})},t.prototype.minusLife=function(){var t;this.heart&&(1===this.heart.heartsCount?(alert("GAME OVER!"),this.resetGame()):(null===(t=this.heart)||void 0===t||t.minusHear(),this.resetPositionControls()))},t.prototype.collideBlock=function(){var t,i=this;null===(t=this.blocks)||void 0===t||t.items.forEach((function(t,e){var o,n,s=null===(o=i.ball)||void 0===o?void 0:o.collide(t);s&&void 0!==s.x&&void 0!==s.y&&(t.active&&(null===(n=i.ball)||void 0===n||n.bumbBlock(s)),i.blocks&&(i.blocks.deactivationBlock=e))}))},t.prototype.collidePlatform=function(){var t,i;if(this.platform){var e=null===(t=this.ball)||void 0===t?void 0:t.collide(this.platform);e&&e.touch&&(null===(i=this.ball)||void 0===i||i.bumbPlatform(this.platform))}},t.prototype.run=function(){var t=this;window.requestAnimationFrame((function(){t.updateController(),t.render(),t.run()}))},t.prototype.render=function(){var t,i,e,o,n,s;null===(t=this.ctx)||void 0===t||t.clearRect(0,0,this.width,this.height),this.images.background&&(null===(i=this.ctx)||void 0===i||i.drawImage(this.images.background,0,0,this.width,this.height)),null===(e=this.ball)||void 0===e||e.render(),null===(o=this.platform)||void 0===o||o.render(),null===(n=this.blocks)||void 0===n||n.render(),null===(s=this.heart)||void 0===s||s.render()},t.prototype.start=function(){var t=this;this.init(),this.preload((function(){t.run()}))},t}();i.default=l},function(t,i,e){"use strict";var o,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(i,"__esModule",{value:!0});var s=e(6),r=e(0),h=e(1),l=function(t){var i=t.x,e=t.y,o=t.block;return i>o.x&&i<o.x+o.width&&e>o.y&&e<o.y+o.height},a=function(t){return t>0?t:-1*t},u=function(t){return t<0?t:-1*t},c=r.WIDTH_GAME/2-r.BALL_WIDTH/2,d=r.HEIGHT_GAME-r.BALL_HEIGHT-r.PLATFORM_HEIGHT-r.PLATFORM_MARGIN_BOTTOM,f=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.x=c,i.y=d,i.dx=0,i.dy=0,i.velocity=r.BALL_VELOCITY,i.width=r.BALL_WIDTH,i.height=r.BALL_HEIGHT,i}return n(i,t),Object.defineProperty(i.prototype,"updatePositionX",{set:function(t){t&&(this.x+=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"setPositionX",{set:function(t){this.x=t},enumerable:!1,configurable:!0}),i.prototype.reset=function(){this.x=c,this.y=d,this.dx=0,this.dy=0},i.prototype.start=function(){this.dy=-this.velocity,this.dx=s.default(-this.velocity,this.velocity)},i.prototype.move=function(){this.dy&&(this.y+=this.dy),this.dx&&(this.x+=this.dx)},i.prototype.collide=function(t){var i=this.x+this.dx,e=this.y+this.dy,o=e+this.height>t.y,n=e<t.y+t.height,s=i<t.x+t.width;if(i+this.width>t.x&&s&&o&&n){var r=l({x:i,y:e+this.height,block:t}),h=l({x:i,y:e,block:t}),c=l({x:i+this.width,y:e,block:t}),d=l({x:i+this.width,y:e+this.height,block:t}),f=void 0,p=void 0;return!r||h||c||d||(f=a(this.dx),p=u(this.dy)),r&&h&&!c&&!d&&(f=a(this.dx),p=this.dy),r||!h||c||d||(f=a(this.dx),p=a(this.dy)),!r&&h&&c&&!d&&(f=this.dx,p=a(this.dy)),r||h||!c||d||(f=u(this.dx),p=a(this.dy)),!r&&!h&&c&&d&&(f=u(this.dx),p=this.dy),r||h||c||!d||(f=u(this.dx),p=u(this.dy)),r&&!h&&!c&&d&&(f=this.dx,p=u(this.dy)),{touch:!0,x:f,y:p}}return{touch:!1,x:void 0,y:void 0}},i.prototype.bumbBlock=function(t){var i=t.x,e=t.y;void 0!==e&&(this.dy=e),void 0!==i&&(this.dx=i)},i.prototype.bumbPlatform=function(t){if(this.dy>0){this.dy=-this.velocity;var i=this.x+this.width/2;this.dx=this.velocity*t.getPlatformTouch(i)}},i.prototype.collideWindowBounds=function(t){var i=this.x+this.dx,e=this.y+this.dy;i<0?(this.x=0,this.dx=+this.velocity):e<0?(this.y=0,this.dy=this.velocity):i+this.width>r.WIDTH_GAME?(this.x=r.WIDTH_GAME-this.width,this.dx=-this.dx):e+this.height>r.HEIGHT_GAME&&t()},i.prototype.render=function(){var t;this.image&&(null===(t=this.ctx)||void 0===t||t.drawImage(this.image,0,0,this.width,this.height,this.x,this.y,this.width,this.height))},i}(h.default);i.default=f},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function(t,i){var e=Math.floor(Math.random()*(i-t+1)+t);return 0===e?3:e}},function(t,i,e){"use strict";var o,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(i,"__esModule",{value:!0});var s=e(0),r=e(1),h=s.WIDTH_GAME/2-s.PLATFORM_WIDTH/2,l=s.HEIGHT_GAME-s.PLATFORM_HEIGHT-s.PLATFORM_MARGIN_BOTTOM,a=function(t){function i(i){var e=t.call(this,i)||this;return e.x=h,e.y=l,e.dx=0,e.velocity=s.PLATFORM_VELOCITY,e.width=s.PLATFORM_WIDTH,e.height=s.PLATFORM_HEIGHT,e.ball=null,e.ball=i.ball,e}return n(i,t),i.prototype.reset=function(t){this.ball=t,this.x=h,this.y=l,this.dx=0},i.prototype.fire=function(){this.ball&&(this.ball.start(),this.ball=null)},i.prototype.removeBall=function(){this.ball=null},i.prototype.plusPositionDX=function(){this.dx=+this.velocity},i.prototype.minusPositionDX=function(){this.dx=-this.velocity},i.prototype.move=function(){this.dx&&(this.x+=this.dx,this.ball&&(this.ball.updatePositionX=this.dx))},i.prototype.stopPositionDX=function(){this.dx=0},i.prototype.getPlatformTouch=function(t){var i=this.x+this.width-t;return 2*(this.width-i)/this.width-1},i.prototype.collideWindowPlatform=function(){this.x+this.dx<0&&(this.dx=0,this.x=0,this.ball&&(this.ball.setPositionX=this.width/2-this.ball.width/2)),this.x+this.width+this.dx>=s.WIDTH_GAME&&(this.dx=0,this.x=s.WIDTH_GAME-this.width,this.ball&&(this.ball.setPositionX=this.width/2-this.ball.width/2+this.x))},i.prototype.render=function(){var t;this.image&&(null===(t=this.ctx)||void 0===t||t.drawImage(this.image,this.x,this.y))},i}(r.default);i.default=a},function(t,i,e){"use strict";var o,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var i,e=1,o=arguments.length;e<o;e++)for(var n in i=arguments[e])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var r=e(0),h=function(t){function i(i){var e=t.call(this,i)||this;return e.x=0,e.y=0,e.row=r.BLOCKS_ROW,e.column=r.BLOCKS_COLUMN,e.items=[],e.width=r.BLOCK_WIDTH,e.height=r.BLOCK_HEIGHT,e.initial(),e}return n(i,t),i.prototype.initial=function(){for(var t=this.width+r.BLOCKS_MARGIN,i=this.height+r.BLOCKS_MARGIN,e=[],o=0;o<this.row;o+=1)for(var n=0;n<this.column;n+=1)e.push({x:t*n+(r.WIDTH_GAME/2-this.column/2*t),y:i*o+r.BLOCKS_TOP_Y,width:this.width,height:this.height,active:!0});this.items=e},i.prototype.reset=function(){this.initial()},Object.defineProperty(i.prototype,"deactivationBlock",{set:function(t){this.items=this.items.map((function(i,e){return s(s({},i),{active:!!i.active&&e!==t})}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateBlocks",{set:function(t){this.items=t},enumerable:!1,configurable:!0}),i.prototype.render=function(){var t=this;this.items.forEach((function(i){var e;t.image&&i.active&&(null===(e=t.ctx)||void 0===e||e.drawImage(t.image,i.x,i.y))}))},i}(e(1).default);i.default=h},function(t,i,e){"use strict";var o,n=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(i,"__esModule",{value:!0});var s=e(0),r=e(1),h=function(t){for(var i=t.heightWindow,e=t.lives,o=[],n=0;n<e;n+=1){var r=0===n?0:(s.HEARTS_PADDING+s.HEARTS_WIDTH)*n;o.push({active:!0,width:s.HEARTS_WIDTH,height:s.HEARTS_HEIGHT,x:s.HEARTS_MARGIN+r,y:i-s.HEARTS_MARGIN-s.HEARTS_HEIGHT})}return o},l=function(t){function i(i){var e=t.call(this,i)||this;return e.hearts=[],e.hearts=h({heightWindow:i.heightWindow,lives:i.lives}),e}return n(i,t),Object.defineProperty(i.prototype,"heartsCount",{get:function(){return this.hearts.length},enumerable:!1,configurable:!0}),i.prototype.reset=function(t){var i=t.heightWindow,e=t.lives;this.hearts=h({heightWindow:i,lives:e})},i.prototype.minusHear=function(){this.hearts.pop()},i.prototype.render=function(){var t=this;this.hearts.forEach((function(i){var e;t.image&&(null===(e=t.ctx)||void 0===e||e.drawImage(t.image,i.x,i.y))}))},i}(r.default);i.default=l}]);